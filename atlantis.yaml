version: 3
automerge: false
projects: 
  - name: bucket
    dir: bucket
    autoplan:
      when_modified: ["../bucket/*.terraform", "*.tf", "*.tfvars"]
  - name: seed
    dir: seed
    autoplan: 
      when_modified: ["../seed/*.terraform", "../seed/bootstrap/*", "*.tf", "*.tfvars"]
  - name: frontend_amer_nodes
    dir: frontend/gcp_nodes
    autoplan:
      when_modified: ["../frontend/gcp_nodes/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: amer
  - name: frontend_euro_nodes
    dir: frontend/gcp_nodes
    autoplan:
      when_modified: ["../frontend/gcp_nodes/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: euro
  - name: frontend_asia_nodes
    dir: frontend/gcp_nodes
    autoplan:
      when_modified: ["../frontend/gcp_nodes/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: asia 
  - name: frontend_amer_autoscale
    dir: frontend/gcp_autoscale
    autoplan:
      when_modified: ["../frontend/gcp_autoscale/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: amer
  - name: frontend_asia_autoscale
    dir: frontend/gcp_autoscale
    autoplan:
      when_modified: ["../frontend/gcp_autoscale/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: asia 
  - name: frontend_ocea_autoscale
    dir: frontend/gcp_autoscale
    autoplan:
      when_modified: ["../frontend/gcp_autoscale/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: ocea 
  - name: frontend_euro_autoscale
    dir: frontend/gcp_autoscale
    autoplan:
      when_modified: ["../frontend/gcp_autoscale/*.terraform", "../frontend/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: euro 
  - name: monitoring_amer_nodes
    dir: monitoring/gcp_nodes
    autoplan:
      when_modified: ["../monitoring/gcp_autoscale/*.terraform", "../monitoring/bootstrap/*", "*.tf", "*.tfvars"]
    workspace: amer

